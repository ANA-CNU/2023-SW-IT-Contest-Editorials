\section{O. 잃어버린 순수}

\begin{frame} % No title at first slide
    \sectiontitle{O}{잃어버린 순수}
    \sectionmeta{
        \texttt{trees, constructive}\\
        출제진 의도 -- \textbf{\color{acplatinum}Challenging}
    }
    \begin{itemize}
        \item 제출 1번, 정답자 0명 (정답률 0.000\%)
        \item 처음 푼 사람: \textbf{없음}
        \item 출제자: \texttt{hhs2003}
    \end{itemize}
\end{frame}

\begin{frame}{\textbf{O}. 잃어버린 순수}
    \begin{itemize}
        \item 차수가 1인 정점에 간선을 추가하지 않는다면, 그 정점은 자기 자신에게 돌아올 수 있는 경로가 존재 하지 않습니다.
        \item 따라서, 차수가 1인 정점들은 간선을 추가하여, 사이클에 속하게 해주어야 합니다.
        \item 차수가 1인 정점들의 개수를 $K$라고 합시다.
        \item 그럼 적어도 간선을 $ \lceil \frac{K}{2}\rceil$ 개 추가하여야 합니다.  $ \lceil \frac{K}{2}\rceil$ 개의 간선을 추가하여, 모든 정점이 사이클에 속하게 할 수 있을 까요?
    \end{itemize}
\end{frame}

\begin{frame}{\textbf{O}. 잃어버린 순수}
    \begin{itemize}
        \item 결론부터 말하자면, 가능합니다.
        \item 문제를 차수가 1인 정점 쌍의 경로로, 모든 트리의 정점을 덮는 문제로 치환하여 봅시다.
        \item 차수가 2이상 인 점을 루트로 하여, 트리를 만들어 봅시다.
        \item 리프노드를 거슬러 올라가게 한다음, 특정 노드에서 리프노드를 서로 매칭하게 하면, 거슬러 올라온 모든 점이 경로에 포함 되게 됩니다.
        \item 이런식으로, 트리 전체를 리프노드가 거슬러 올라가게 한다음 모두 매칭시키면, 모든 정점이 사이클을 갖는 경로들을 찾을 수 있을 것 입니다.
        \item 깊이가 깊은 리프노드에서부터 부모로 거슬러 올라가게 해봅시다.
    \end{itemize}
\end{frame}

\begin{frame}{\textbf{O}. 잃어버린 순수}
    \begin{itemize}
        \item 차수가 3이상인 점에서는 리프노드 끼리 만나게 됩니다. 이때, 리프노드 여러개를 거슬러 올라가게 할 필요가 없습니다.
        \item 적어도 1개만 거슬러 올라가게 해도, 루트까지 이어진 경로를 다 포함 시킬 수 있습니다.
        \item 그러면, 특정노드에서 거슬러 올라가게 할 1, 2개의 노드를 제외하고 전부 매칭합니다.
        \item 특정 노드의 자식으로 부터 1, 2개의 노드가 거슬러 올라 올 때, 서로 다른 자식으로 부터 올라온 리프노드 끼리 매칭해야 합니다.
        \item 그렇지 않고, 같은 자식에서 올라온 2개의 리프노드를 매칭하면, 리프노드에서 특정 노드까지의 경로가 포함 되지 않을 수 있습니다.
        \item 한 자식으로 부터, 1개 혹은 2개의 리프노드가 올라온다면, 어떤 식으로 매칭 해야 할 까요?
    \end{itemize}
\end{frame}  

\begin{frame}{\textbf{O}. 잃어버린 순수}
    \begin{itemize}
        \item 이는 간단한 그리디 문제로 해결 할 수 있습니다.
        \item 특정 $A$번의 노드에서 자식의 개수를 $K$라고 할 때, $A_i$의 값을 자식에서 올라온 리프노드의 갯수라고 합시다.
        \item 그럼 $A_i$의 값은 1아니면 2입니다.
        \item $A_i$가 2일 때, 한 자식에서 올라온 두 정점을 $A$번 노드에서 매칭시키면 거슬러 온 경로가 포함 되지 않는 다는 것을 알 수 있습니다.
        \item 그럼 노드 $A$에 대하여, 순열 $A_1, A_2, A_3, \cdots, A_K$에 다른 원소 $A_i, A_j(i < j)$를 골라 두 원소에 -1연산을 하여, 전체 순열에 있는 원소를 1하나만 남기거나 1 두개, 혹은 2하나 남기고 모두 0으로 만들 수 있는지에 대한 문제로 치환 할 수 있습니다.


    \end{itemize}
\end{frame}


\begin{frame}{\textbf{O}. 잃어버린 순수}
    \begin{itemize}
        \item 값이 2인 원소들 끼리 미리 매칭시켜 모두 1로 만들고 1인 원소들을 모아 아무거나 매칭시키면 됩니다.
        \item 이를 dfs를 통해 구현할 수 있으며, 각 노드에서 올라온 정점들을 계산하고 최적의 정점들만 올려보낸 다는 점에서 트리 dp와 유사하게 풀 수 있습니다.


    \end{itemize}
\end{frame}